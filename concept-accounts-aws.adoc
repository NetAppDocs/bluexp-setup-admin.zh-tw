---
sidebar: sidebar 
permalink: concept-accounts-aws.html 
keywords: cloud provider accounts, aws, aws accounts, keys, multiple accounts, permissions, aws permissions, policy, policies, credentials 
summary: 瞭解 BlueXP 如何使用 AWS 認證和權限來代表您執行動作。在 BlueXP 中管理一或多個 AWS 帳戶的認證時、瞭解這些詳細資料可能很有幫助。例如、您可能想要瞭解何時將額外的 AWS 認證新增至 BlueXP 。 
---
= AWS 認證與權限
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
瞭解 BlueXP 如何使用 AWS 認證和權限來代表您執行動作。在 BlueXP 中管理一或多個 AWS 帳戶的認證時、瞭解這些詳細資料可能很有幫助。例如、您可能想要瞭解何時將額外的 AWS 認證新增至 BlueXP 。



== 初始 AWS 認證資料

從BlueXP部署連接器時、您需要為IAM使用者提供IAM角色或存取金鑰的ARN。您使用的驗證方法必須具有必要的權限、才能在AWS中部署Connector執行個體。所需權限列於 link:task-install-connector-aws-bluexp.html#step-2-set-up-aws-permissions["AWS 的 Connector 部署原則"]。

當BlueXP在AWS中啟動Connector執行個體時、會為執行個體建立IAM角色和執行個體設定檔。它也附加原則、讓Connector有權限管理該AWS帳戶內的資源和程序。 link:reference-permissions-aws.html["檢閱BlueXP如何使用權限"]。

image:diagram_permissions_initial_aws.png["顯示在AWS帳戶中部署Connector的BlueXP概念性映像。IAM原則會指派給附加至BlueXP執行個體的IAM角色。"]

如果您為 Cloud Volumes ONTAP 建立新的工作環境、 BlueXP 預設會選取這些 AWS 認證：

image:screenshot_accounts_select_aws.gif["在「詳細資料擴大機；認證」頁面中顯示「切換帳戶」選項的螢幕擷取畫面。"]

您可以 Cloud Volumes ONTAP 使用初始 AWS 認證來部署所有的資訊系統、也可以新增其他認證資料。



== 其他 AWS 認證資料

有兩種方法可以新增額外的 AWS 認證：

* 您可以將 AWS 認證新增至現有的 Connector
* 您可以直接將 AWS 認證新增至 BlueXP


請參閱以下各節以取得更多詳細資料。



=== 將AWS認證資料新增至現有的Connector

如果您想要在不同的 AWS 帳戶中啟動 Cloud Volumes ONTAP 、則可以為 IAM 使用者提供 AWS 金鑰、或是在信任的帳戶中提供角色的 ARN 。下圖顯示兩個額外的帳戶、一個透過信任帳戶中的 IAM 角色提供權限、另一個則透過 IAM 使用者的 AWS 金鑰提供權限：

image:diagram_permissions_multiple_aws.png["顯示兩個額外帳戶的概念性映像。每個都有 IAM 原則、一個附加到 IAM 使用者、另一個附加到 IAM 角色。"]

然後您可以指定 IAM 角色的 Amazon 資源名稱（ ARN ）或 IAM 使用者的 AWS 金鑰、將帳戶認證新增至 BlueXP 。

新增一組認證資料之後、您可以在建立新的工作環境時切換至這些認證資料：

image:screenshot_accounts_switch_aws.png["螢幕快照、顯示在「詳細資料  擴大機；認證」頁面中選取「切換帳戶」之後、在雲端供應商帳戶之間進行選擇。"]

link:task-adding-aws-accounts.html#add-additional-credentials-to-a-connector["瞭解如何將 AWS 認證新增至現有的 Connector 。"]



=== 直接將AWS認證資料新增至BlueXP

新增AWS認證資料至藍圖XP、可提供必要的權限來建立及管理適用於ONTAP 整個作業環境的FSX、或是建立Connector。

* link:task-adding-aws-accounts.html#add-credentials-to-bluexp-for-creating-a-connector["瞭解如何將 AWS 認證新增至 BlueXP for Amazon FSX for ONTAP"^]
* link:task-adding-aws-accounts.html#add-additional-credentials-to-a-connector["瞭解如何將 AWS 認證新增至 BlueXP 以建立 Connector"]




== Marketplace 部署和內部部署呢？

以上各節說明建議的連接器部署方法、該方法來自於BlueXP。您也可以從 AWS Marketplace 在 AWS 中部署 Connector 、然後在自己的 Linux 主機上手動安裝 Connector 軟體。

如果您使用 Marketplace 、則會以相同方式提供權限。您只需要手動建立和設定 IAM 角色、然後為任何其他帳戶提供權限。

對於內部部署、您無法為 BlueXP 系統設定 IAM 角色、但可以使用 AWS 存取金鑰提供權限。

若要瞭解如何設定權限、請參閱下列頁面：

* 標準模式
+
** link:task-install-connector-aws-marketplace.html#step-2-set-up-aws-permissions["設定 AWS Marketplace 部署的權限"]
** link:task-install-connector-on-prem.html#step-3-set-up-cloud-permissions["設定內部部署的權限"]


* link:task-prepare-restricted-mode.html#step-5-prepare-cloud-permissions["設定受限模式的權限"]
* link:task-prepare-private-mode.html#step-5-prepare-cloud-permissions["設定私有模式的權限"]




== 我該如何安全地旋轉 AWS 認證資料？

如上所述、BlueXP可讓您以幾種方式提供AWS認證資料：與連接器執行個體相關的IAM角色、在信任的帳戶中擔任IAM角色、或提供AWS存取金鑰。

在前兩個選項中、BlueXP會使用AWS安全性權杖服務來取得持續循環的暫用認證資料。此程序是最佳實務做法、它是自動且安全的。

如果您為BlueXP提供AWS存取金鑰、您應該定期在BlueXP中更新金鑰、以旋轉金鑰。這是完全手動的程序。
