---
sidebar: sidebar 
permalink: concept-connectors.html 
keywords: 'concept, connectors, learn about connectors, what are connectors, what is a connector, what"s a connector, days, 14 days, when is a connector required, connector supported locations, restricted mode, private mode, dark site, permissions, multiple connectors, disaster recovery' 
summary: Connector 是指在雲端網路或內部部署網路中執行的 NetApp 軟體。它會執行 BlueXP 管理資料基礎架構所需執行的動作。Connector 會持續輪詢 BlueXP SaaS 層、以找出需要採取的任何行動。您不需要 Connector 即可開始使用 BlueXP 、但您需要建立 Connector 才能解除鎖定所有 BlueXP 功能和服務。 
---
= 深入瞭解連接器
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
_Connector_ 是在您的雲端網路或內部部署網路中執行的 NetApp 軟體。它會執行 BlueXP 管理資料基礎架構所需執行的動作。Connector 會持續輪詢 BlueXP SaaS 層、以找出需要採取的任何行動。您不需要 Connector 即可開始使用 BlueXP 、但您需要建立 Connector 才能解除鎖定所有 BlueXP 功能和服務。



== 沒有 Connector 、您可以做什麼

開始使用 BlueXP 並不需要 Connector 。您可以在 BlueXP 中使用多項功能和服務、而無需建立 Connector 。

您可以在沒有 Connector 的情況下使用下列 BlueXP 功能和服務：

* Amazon FSX for NetApp ONTAP 工作環境建立
+
雖然 Connector 不需要建立工作環境、但需要建立和管理磁碟區、複寫資料、並將適用於 ONTAP 的 FSX 與 BlueXP 分類和 BlueXP 複製與同步等服務整合。

* Azure NetApp Files
+
雖然不需要連接器來設定和管理 Azure NetApp Files 、但如果您想使用 BlueXP 分類來掃描 Azure NetApp Files 資料、則需要連接器。

* 適用於 Google Cloud Cloud Volumes Service
* 複製與同步
* 數位顧問
* 數位錢包
+
在幾乎所有情況下、您都可以在沒有 Connector 的情況下、將授權新增至數位錢包。

+
只有在 Connector 需要將授權新增至數位錢包時、才需要使用 Cloud Volumes ONTAP 節點型授權。在這種情況下需要連接器、因為資料是取自Cloud Volumes ONTAP 安裝在效益分析系統上的授權。

* 直接探索內部部署ONTAP 的叢集
+
雖然不需要連接器即可直接探索內部部署ONTAP 的叢集、但如果您想要使用更多的BlueXP功能、則需要連接器。

+
https://docs.netapp.com/us-en/bluexp-ontap-onprem/task-discovering-ontap.html["深入瞭解內部ONTAP 部署的叢集探索與管理選項"^]





== 需要連接器時

在標準模式下使用 BlueXP 時、 BlueXP 中的下列功能和服務需要 Connector ：

* Amazon FSX提供ONTAP 功能完善的管理功能
* Amazon S3探索
* Azure Blob探索
* 備份與還原
* 分類
* Cloud Volumes ONTAP
* E系列系統
* 經濟效益 ^1^
* 邊緣快取
* Google Cloud Storage探索
* Kubernetes叢集
* 內部部署ONTAP 的不支援叢集整合至BlueXP資料服務
* 營運恢復能力 ^1^
* 系統StorageGRID
* 分層


^1^ 雖然您可以在不使用 Connector 的情況下存取這些服務、但需要有 Connector 才能從服務啟動動作。



== 連接器必須隨時正常運作

連接器是 BlueXP 服務架構的基本部分。您有責任確保相關的連接器隨時正常運作且可存取。雖然這項服務的設計是為了克服連接器可用度的短暫中斷、但您必須在必要時立即採取行動、以補救基礎架構故障。

本文件受EULA規範。如果產品未依照文件操作、則產品的功能與操作、以及您在EULA下的權利、可能會受到不利影響。



=== 對 Cloud Volumes ONTAP 的影響

連接器是Cloud Volumes ONTAP 健全狀況和運作過程中的關鍵要素。如果連接器電源關閉、Cloud Volumes ONTAP 則在與連接器失去通訊超過14天之後、將停止使用以容量為基礎的BYOL系統。這是因為Connector每天都會在系統上重新整理授權。

如果Cloud Volumes ONTAP 您的系統擁有節點型BYOL授權、系統會在14天後繼續執行、因為授權已安裝在Cloud Volumes ONTAP 該系統上。



== 支援的位置

下列位置支援連接器：

* Amazon Web Services
* Microsoft Azure
+
Azure 中的 Connector 應部署在與其管理的 Cloud Volumes ONTAP 系統所在的同一個 Azure 區域、或部署在中 https://docs.microsoft.com/en-us/azure/availability-zones/cross-region-replication-azure#azure-cross-region-replication-pairings-for-all-geographies["Azure區域配對"^] 適用於整個系統。Cloud Volumes ONTAP這項需求可確保Cloud Volumes ONTAP Azure Private Link連線可用於連接至相關的儲存帳戶。 https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-enabling-private-link.html["瞭Cloud Volumes ONTAP 解如何使用Azure Private Link"^]

* Google Cloud
+
如果您想要搭配 Google Cloud 使用 BlueXP 服務、則必須使用在 Google Cloud 中執行的 Connector 。

* 在您的內部環境中




== 受限模式和私有模式

若要在受限模式或私有模式下使用 BlueXP 、請先安裝 Connector 、然後存取在 Connector 本機上執行的使用者介面、以開始使用 BlueXP 。

link:concept-modes.html["瞭解 BlueXP 部署模式"]。



== 如何建立連接器

BlueXP 帳戶管理員可以直接從 BlueXP 、雲端供應商的市場、或手動在自己的 Linux 主機上安裝軟體、來建立 Connector 。開始使用的方式取決於您是在標準模式、受限模式或私人模式下使用 BlueXP 。

* link:concept-modes.html["瞭解 BlueXP 部署模式"]
* link:task-quick-start-standard-mode.html["以標準模式快速啟動 BlueXP"]
* link:task-quick-start-restricted-mode.html["以受限模式快速啟動 BlueXP"]
* link:task-quick-start-private-mode.html["以私有模式快速啟動 BlueXP"]




== 權限

直接從 BlueXP 建立 Connector 需要特定權限、而 Connector 執行個體本身則需要另一組權限。如果您直接從 BlueXP 在 AWS 或 Azure 中建立 Connector 、則 BlueXP 會建立具有所需權限的 Connector 。

若要瞭解如何設定權限、請參閱下列頁面：

* 標準模式
+
** link:task-set-up-permissions-aws.html["設定 AWS 權限"]
** link:task-set-up-permissions-azure.html["設定 Azure 權限"]
** link:task-set-up-permissions-google.html["設定 Google Cloud 權限"]
** link:task-set-up-permissions-on-prem.html["設定內部部署的雲端權限"]


* link:task-prepare-restricted-mode.html#prepare-cloud-permissions["設定受限模式的雲端權限"]
* link:task-prepare-private-mode.html#prepare-cloud-permissions["設定私有模式的雲端權限"]


若要檢視 Connector 所需的確切權限、請參閱下列頁面：

* link:reference-permissions-aws.html["瞭解Connector如何使用AWS權限"]
* link:reference-permissions-azure.html["瞭解Connector如何使用Azure權限"]
* link:reference-permissions-gcp.html["瞭解Connector如何使用Google Cloud權限"]




== 連接器升級

我們通常每個月更新Connector軟體、以引進新功能並改善穩定性。雖然BlueXP平台的大部分服務與功能都是透過SaaS型軟體提供、但其中幾項功能與連接器的版本有何不同。其中包括Cloud Volumes ONTAP 支援內部的支援、ONTAP 內部的支援、叢集管理、設定及說明。

只要連接器能夠存取傳出的網際網路來取得軟體更新、連接器就會自動將軟體更新至最新版本。如果您在私有模式下使用 BlueXP 、則需要手動升級 Connector 。

link:task-managing-connectors.html["瞭解如何手動升級 Connector 軟體"]。



== 作業系統與 VM 維護

在 Connector 主機上維護作業系統是您的責任。例如、您應該遵循公司的作業系統發佈標準程序、將安全性更新套用至 Connector 主機上的作業系統。

請注意、執行作業系統更新時、不需要停止 Connector 主機上的任何服務。

如果您需要停止然後啟動 Connector VM 、您應該從雲端供應商的主控台或使用內部部署管理的標準程序來執行。

<<連接器必須隨時正常運作,請注意、 Connector 必須隨時都能運作>>。



== 多種工作環境

Connector可以在BlueXP中管理多個工作環境。單一Connector應管理的工作環境數量上限各不相同。這取決於工作環境的類型、磁碟區數量、所管理的容量、以及使用者數量。

如果您有大規模部署、請與NetApp代表合作調整環境規模。如果您在過程中遇到任何問題、請使用產品內對談與我們聯絡。



== 多個連接器

在某些情況下、您可能只需要一個連接器、但可能需要兩個以上的連接器。

以下是幾個範例：

* 您擁有多雲端環境（例如 AWS 和 Azure ）、偏好在 AWS 中安裝一個 Connector 、在 Azure 中安裝另一個 Connector 。每個系統都能管理 Cloud Volumes ONTAP 在這些環境中執行的不實系統。
* 服務供應商可能會使用一個 BlueXP 帳戶為客戶提供服務、而使用另一個帳戶為其中一個業務單位提供災難恢復。每個帳戶都會有個別的 Connectors 。




=== 切換時機

建立第一個Connector時、BlueXP會自動將該Connector用於您所建立的每個額外工作環境。建立額外的 Connector 之後、您必須在兩者之間切換、以查看每個 Connector 專屬的工作環境。

link:task-managing-connectors.html["瞭解如何在連接器之間切換"]。



=== 災難恢復

您可以同時使用多個連接器來管理工作環境、以便進行災難恢復。如果一個連接器故障、您可以切換至另一個連接器、立即管理工作環境。

若要設定此組態：

. link:task-managing-connectors.html["切換至另一個連接器"]。
. 探索現有的工作環境。
+
** https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/task-adding-systems.html["新增現有Cloud Volumes ONTAP 的元件系統至藍圖XP"^]
** https://docs.netapp.com/us-en/bluexp-ontap-onprem/task-discovering-ontap.html["探索 ONTAP 叢集"^]


. 設定 https://docs.netapp.com/us-en/bluexp-cloud-volumes-ontap/concept-storage-management.html["容量管理模式"^]
+
只有主連接器應設定為*自動模式*。如果您切換至另一個連接器以進行DR、則可視需要變更容量管理模式。


